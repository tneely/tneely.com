(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(20)},16:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a,l=n(0),o=n.n(l),r=n(3),i=n.n(r),s=(n(16),n(7)),c=n(9),u=n(4),m=n(5),f=n(1),w=n(6),d=n(8);n(18);!function(t){t[t.Start=0]="Start",t[t.FlowPrompt=1]="FlowPrompt",t[t.InFlow=2]="InFlow",t[t.FlowSummary=3]="FlowSummary"}(a||(a={}));var h=60,S={startTime:0,endTime:0,flowInput:"",currentFlow:null,flowState:a.Start,flows:[],inTransition:!1,transitionTime:0,filterFlowLength:60},F=function(){return Date.now()/1e3},p=function(t){return Math.round(t/h)},E=function(t,e,n){return(e-t)/n*100},g=function(t){var e=new Date(1e3*t),n=e.getHours(),a=e.getMinutes(),l=n%12;return(l=0==n?12:l)+":"+(a<10?"0"+a:a)+(n>=12?"pm":"am")},v=function(t){return Math.floor(t/60)+" hours and "+t%60+" minutes"},T=function(t){function e(t){var n,l=this;if(Object(u.a)(this,e),(n=Object(f.a)(this,Object(w.a)(e).call(this,t))).state=S,n.saveStateToLocal=function(){"undefined"!==typeof Storage&&localStorage.setItem("state",JSON.stringify(n.state))},n.StateWrapper=function(t){var e=t.children,a=t.className;return o.a.createElement("div",{className:n.state.inTransition?a?"fade-out"+a:"fade-out":a?"fade-in "+a:"fade-in",style:{animationDuration:n.state.transitionTime+"ms"}},e)},n.doTranistion=function(t,e,a){n.setState({inTransition:!0,transitionTime:e}),setTimeout(function(){n.setState({flowState:t,inTransition:!1},function(){a&&n.saveStateToLocal()})},e)},n.StartScreen=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome to ",o.a.createElement("span",{className:"fade-in ani-3 special"},"Flow")),o.a.createElement("button",{onClick:n.handleStartClick},"Click here to start flowing"))},n.handleStartClick=function(t){n.setState({startTime:F()}),n.doTranistion(a.FlowPrompt,500,!0)},n.FlowPrompt=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"What are you flowing on?"),o.a.createElement("form",{onSubmit:n.handleFlowSubmit},o.a.createElement("input",{type:"text",placeholder:"My task",name:"flow",value:n.state.flowInput,onChange:n.handleFlowInputChange,onFocus:n.handleInputFocus,style:{width:"250px",marginRight:"1rem"}}),o.a.createElement("button",{type:"submit"},"Flow")))},n.handleFlowInputChange=function(t){n.setState({flowInput:t.target.value},n.saveStateToLocal)},n.handleInputFocus=function(t){t.target.select()},n.handleFlowSubmit=function(t){t.preventDefault();var e=n.state.flowInput;0!=e.length&&(n.startFlow(e),n.doTranistion(a.InFlow,500,!0))},n.startFlow=function(t){var e={name:t,startTime:F()};n.setState({currentFlow:e},n.saveStateToLocal)},n.InFlow=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"You are flowing on"," ",o.a.createElement("span",{className:"special"},n.state.currentFlow&&n.state.currentFlow.name)),o.a.createElement("button",{onClick:n.handlePauseFlowClick},"Pause flow"))},n.handlePauseFlowClick=function(t){n.endFlow(),n.doTranistion(a.FlowPrompt,0,!0)},n.endFlow=function(){if(n.state.currentFlow&&n.state.currentFlow.name){var t=Object(c.a)({},n.state.currentFlow,{endTime:F()});n.setState({currentFlow:{},flows:[].concat(Object(s.a)(n.state.flows),[t])},n.saveStateToLocal)}},n.EndFlowLink=function(){return o.a.createElement("a",{href:"#",className:"end-flow-link",onClick:n.handleEndClick},"End your flow for today")},n.handleEndClick=function(t){n.endFlow(),n.setState({endTime:F()},function(){"undefined"!==typeof Storage&&localStorage.clear()}),n.doTranistion(a.FlowSummary,500)},n.FlowSummary=function(){var t=n.state.startTime,e=n.state.endTime,a=e-t;return o.a.createElement("div",null,o.a.createElement("h1",null,"Flow Summary"),o.a.createElement("label",null,"Filter flow less than ",n.state.filterFlowLength," minutes"),o.a.createElement("input",{type:"range",min:"0",max:"120",value:n.state.filterFlowLength,onChange:n.handleSliderChange}),o.a.createElement("div",{className:"flow-summary"},o.a.createElement("div",{className:"flow-summary-time-ends"},o.a.createElement("h2",null,g(t)),o.a.createElement("h2",null,g(e))),o.a.createElement(l.FlowItem,{leftOffset:0,rightOffset:0,minutesOnFlow:p(a),taskName:"Total Time",isTotal:!0}),n.state.flows.map(function(r,i){var s=r.endTime-r.startTime;if(!(s<n.state.filterFlowLength*h))return o.a.createElement(l.FlowItem,{leftOffset:E(t,r.startTime,a),rightOffset:E(r.endTime,e,a),minutesOnFlow:p(s),taskName:r.name,key:i})})))},n.FlowItem=function(t){return o.a.createElement("div",{className:"flow-summary-item",style:{marginLeft:t.leftOffset+"%",marginRight:t.rightOffset+"%"}},o.a.createElement("label",{style:{margin:0,whiteSpace:"nowrap"}},t.taskName,": ",v(t.minutesOnFlow)),o.a.createElement("div",{className:t.isTotal?"total-div flow-div":"flow-div"}))},n.handleSliderChange=function(t){return n.setState({filterFlowLength:t.target.value})},n.ResetStateLink=function(){return o.a.createElement("a",{href:"#",className:"end-flow-link",onClick:n.handleResetClick},"Start over")},n.handleResetClick=function(t){n.setState(S)},"undefined"===typeof Storage)return Object(f.a)(n);var r=localStorage.getItem("state");r&&r.length>0&&(confirm("We found data from a previous flow session. Do you want to load it?")&&(n.state=JSON.parse(r)));return n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(this.StateWrapper,null,this.state.flowState==a.Start?o.a.createElement(this.StartScreen,null):"",this.state.flowState==a.FlowPrompt?o.a.createElement(this.FlowPrompt,null):"",this.state.flowState==a.InFlow?o.a.createElement(this.InFlow,null):"",this.state.flowState==a.FlowSummary?o.a.createElement(this.FlowSummary,null):""),this.state.flowState!=a.Start&&this.state.flowState!=a.FlowSummary?o.a.createElement(this.EndFlowLink,null):"",this.state.flowState==a.FlowSummary?o.a.createElement(this.ResetStateLink,null):"")}}]),e}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.4d3fd3d0.chunk.js.map